<%= form_for @team do |f| %>
  <p>
    <%= f.label :tournament_id %>:
    <% if @team.new? %>
      <% if params[:tournament_id] %>
        <%= link_to @tournament.name, @tournament %> <%= f.hidden_field :tournament_id, { :value => @tournament.id } %>
      <% else %>
        <%= f.collection_select(:tournament_id, Tournament.all, :id, :name, { :prompt => '- Select Tournament -', :selected => params[:tournament_id] }) %></p>
      <% end %>
    <% else %>
      <%= link_to @team.tournament.name, @team.tournament %> <%= f.hidden_field :tournament_id %>
    <% end %>
  </p>
  <p>
    <%= f.label :pool_id %>:
    <% if @team.new? %>
      <% if params[:pool_id] %>
        <%= link_to @pool.name, @pool %> <%= f.hidden_field :pool_id, { :value => @pool.id } %>
      <% else %>
        <%= f.label :pool_id %>: <%= f.collection_select(:pool_id, Pool.all, :id, :name, { :prompt => '- Select Pool -', :selected => params[:pool_id] }) %>
      <% end %>
    <% else %>
      <%= link_to @team.pool.name, @team.pool %> <%= f.hidden_field :pool_id %>
    <% end %>
  </p>
  <p><%= f.label :name %>: <%= f.text_field :name %></p>
  <p><%= f.submit :Save %></p>
<% end %>